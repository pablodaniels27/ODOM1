<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.*?>
<?import javafx.collections.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<AnchorPane prefHeight="1351.0" prefWidth="1395.0" xmlns="http://javafx.com/javafx/17.0.2-ea" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controllers.AuditoriaController">
    <BorderPane AnchorPane.bottomAnchor="0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
        <top>
            <!-- Contenedor principal -->
            <VBox spacing="10" BorderPane.alignment="CENTER">
                <!-- Título -->
                <Label alignment="CENTER" style="-fx-font-size: 24px; -fx-font-weight: bold;" text="Registro de Auditoría" />
                <!-- Filtros -->
                <GridPane hgap="20" vgap="10">
                    <!-- Primera fila: Supervisor -->
                    <HBox alignment="CENTER_LEFT" spacing="10" GridPane.columnIndex="0" GridPane.rowIndex="0">
                        <Label style="-fx-font-weight: bold;" text="Supervisor" />
                        <TextField fx:id="searchField" onKeyReleased="#searchForSupervisors" promptText="Buscar supervisor..." />
                    </HBox>
                    <!-- Segunda fila: Fechas -->
                    <HBox alignment="CENTER_LEFT" spacing="20" GridPane.columnIndex="0" GridPane.rowIndex="1">
                        <!-- Filtrar por fecha de inicio -->
                        <HBox alignment="CENTER" spacing="10">
                            <Label style="-fx-font-weight: bold;" text="Fecha Inicio" />
                            <DatePicker fx:id="fechaInicioPicker" />
                        </HBox>
                        <!-- Filtrar por fecha final -->
                        <HBox alignment="CENTER" spacing="10">
                            <Label style="-fx-font-weight: bold;" text="Fecha Fin" />
                            <DatePicker fx:id="fechaFinPicker" />
                        </HBox>
                    </HBox>
                    <!-- Tercera fila: Filtro por acción y botón de búsqueda -->
                    <HBox alignment="CENTER_LEFT" spacing="10" GridPane.columnIndex="0" GridPane.rowIndex="2">
                        <!-- Filtrar por acción -->
                        <Label style="-fx-font-weight: bold;" text="Filtrar por acción:" />
                        <ComboBox fx:id="actionFilterComboBox">
                            <items>
                                <FXCollections fx:factory="observableArrayList">
                                    <String fx:value="Todos" />
                                    <String fx:value="Agregar" />
                                    <String fx:value="Modificar" />
                                    <String fx:value="Eliminar" />
                                    <String fx:value="Consultar" />
                                </FXCollections>
                            </items>
                        </ComboBox>
                        <!-- Botón de Buscar -->
                        <Button fx:id="searchButton" onAction="#validateAndSearch" text="Buscar" />
                        <!-- Botón portapapeles -->
                        <VBox alignment="CENTER">
                            <Button onAction="#copyToClipboard" text="Portapapeles" />
                        </VBox>
                        <VBox alignment="CENTER">
                            <Button fx:id="resetFiltersButton" onAction="#restablecerFiltros" text="Restablecer Filtros" />
                        </VBox>
                    </HBox>
                    <columnConstraints>
                        <ColumnConstraints />
                    </columnConstraints>
                    <rowConstraints>
                        <RowConstraints />
                        <RowConstraints />
                        <RowConstraints />
                    </rowConstraints>
                </GridPane>
            </VBox>
        </top>
        <center>
            <AnchorPane prefWidth="1395.0">
                <TableView fx:id="auditoriaTable" layoutX="0.0" layoutY="0.0" prefHeight="1135.0" prefWidth="1395.0" AnchorPane.bottomAnchor="-2.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
                    <!-- Columnas de la tabla -->
                    <columns>
                        <TableColumn fx:id="nombreCompletoSupervisor" text="Supervisor" />
                        <TableColumn fx:id="departamentoColumn" text="Departamento" />
                        <TableColumn fx:id="accionColumn" text="Acción" />
                        <TableColumn fx:id="nombreCompletoEmpleado" text="Empleado afectado" />
                        <TableColumn fx:id="timestampColumn" text="Horario" />
                        <TableColumn fx:id="detallesColumn" text="Detalles" />

                    </columns>
               <columnResizePolicy>
                  <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
               </columnResizePolicy>
                </TableView>
            </AnchorPane>
        </center>
        <bottom>
            <AnchorPane minHeight="25.0">
                <HBox alignment="CENTER" spacing="10" AnchorPane.bottomAnchor="40.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="3.0">
                    <ChoiceBox fx:id="itemsPerPageChoiceBox" prefWidth="100.0" />
                    <Button fx:id="previousButton" onAction="#handlePreviousPage" text="Anterior" />
                    <HBox fx:id="paginationBox" alignment="CENTER" spacing="5.0" />
                    <Button fx:id="nextButton" onAction="#handleNextPage" text="Siguiente" />
                </HBox>
            </AnchorPane>
        </bottom>
    </BorderPane>
</AnchorPane>
